import{a as R}from"./chunk-EAOUL6WP.js";import{a as M,b as q}from"./chunk-7Q35OXXA.js";import"./chunk-376IKJ6V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-ZY6MMR2N.js";import"./chunk-D7TAPKFE.js";import"./chunk-E3YIA7WN.js";import"./chunk-AIS5GWYL.js";import"./chunk-LALQ4PRD.js";import"./chunk-UW3ZE4H6.js";import"./chunk-BYMGTA2M.js";import"./chunk-EXPIUGSN.js";import"./chunk-RRKDUDD7.js";import"./chunk-XWDJZ25K.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M6NONDRE.js";import"./chunk-CKP3SGE2.js";import"./chunk-SGZNH6GL.js";import{a as O,e as x,f as G}from"./chunk-463KTWEQ.js";import{$ as m,Aa as b,B as n,Ba as I,Ca as S,D as C,Da as y,Ea as w,Ha as F,Ia as _,K as g,L as o,M as a,N as f,S as h,_a as k,gb as N,jb as j,kb as A,mb as E,sb as D,ta as v,tb as L,vb as T,wb as B,z as u,za as l}from"./chunk-KD4FIKX5.js";import"./chunk-HB7CQCBC.js";import"./chunk-VHBHA3HG.js";import"./chunk-ZPI3MVP3.js";import"./chunk-X23JKFBK.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as p}from"./chunk-D7YYRZS5.js";var Y=(()=>{let r=class r{constructor(t,e,i,s,d){this.fb=t,this.userService=e,this.router=i,this.alertController=s,this.loadingController=d,O({mail:G,key:x})}ngOnInit(){this.cadastroForm=this.fb.group({email:["",[l.required,l.email]],password:["",[l.required,l.minLength(6)]]})}onSubmit(){return p(this,null,function*(){if(!this.cadastroForm.valid)return;let t=yield this.loadingController.create({message:"Cadastrando..."});yield t.present();try{let{name:e,username:i,email:s,password:d}=this.cadastroForm.value,V=yield this.userService.register({email:s,password:d});yield t.dismiss(),V?(yield this.presentAlert("Sucesso!","Cadastro realizado. Fa\xE7a o login para continuar."),this.router.navigateByUrl("/login")):yield this.presentAlert("Falha","N\xE3o foi poss\xEDvel realizar o cadastro. Verifique se o e-mail j\xE1 est\xE1 em uso.")}catch(e){yield t.dismiss(),yield this.presentAlert("Erro","Ocorreu um erro inesperado."),console.error(e)}})}presentAlert(t,e){return p(this,null,function*(){yield(yield this.alertController.create({header:t,message:e,buttons:["OK"]})).present()})}onClickBtnLogin(){this.router.navigate(["/login"])}};r.\u0275fac=function(e){return new(e||r)(n(F),n(R),n(v),n(M),n(q))},r.\u0275cmp=C({type:r,selectors:[["app-cadastro"]],decls:18,vars:2,consts:[["color","primary"],["color","light",1,"ion-padding"],[1,"center-container"],["id","cadastroForm",3,"ngSubmit","formGroup"],["name","mail","slot","start"],["label","Email","placeholder","Digite seu email","formControlName","email","id","email"],["name","key","slot","start"],["label","Senha","placeholder","Digite sua senha","type","password","formControlName","password","id","password"],["type","submit","expand","block",1,"ion-margin-top",3,"disabled"],["expand","block",1,"ion-margin-top",3,"click"]],template:function(e,i){e&1&&(o(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),m(3,"CADASTRO"),a()()(),o(4,"ion-content",1)(5,"div",2)(6,"form",3),h("ngSubmit",function(){return i.onSubmit()}),o(7,"ion-list")(8,"ion-item"),f(9,"ion-icon",4)(10,"ion-input",5),a(),o(11,"ion-item"),f(12,"ion-icon",6)(13,"ion-input",7),a()(),o(14,"ion-button",8),m(15," Cadastrar "),a(),o(16,"ion-button",9),h("click",function(){return i.onClickBtnLogin()}),m(17,"Login "),a()()()()),e&2&&(u(6),g("formGroup",i.cadastroForm),u(8),g("disabled",!i.cadastroForm.valid))},dependencies:[k,T,E,N,A,L,D,B,j,_,S,b,I,y,w],styles:[".center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}"]});let c=r;return c})();export{Y as CadastroComponent};
