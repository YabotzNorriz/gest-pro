import{a as M}from"./chunk-EAOUL6WP.js";import{a as q,b as A}from"./chunk-7Q35OXXA.js";import"./chunk-376IKJ6V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-ZY6MMR2N.js";import"./chunk-D7TAPKFE.js";import"./chunk-E3YIA7WN.js";import"./chunk-AIS5GWYL.js";import"./chunk-LALQ4PRD.js";import"./chunk-UW3ZE4H6.js";import"./chunk-BYMGTA2M.js";import"./chunk-EXPIUGSN.js";import"./chunk-RRKDUDD7.js";import"./chunk-XWDJZ25K.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M6NONDRE.js";import"./chunk-CKP3SGE2.js";import"./chunk-SGZNH6GL.js";import{a as G,e as O,f as T}from"./chunk-463KTWEQ.js";import{$ as s,Aa as C,B as a,Ba as b,Ca as I,D as h,Da as y,Ea as S,Ha as w,Ia as E,K as u,L as o,M as n,N as g,S as f,_a as F,gb as k,jb as _,kb as L,mb as N,sb as x,ta as v,tb as j,vb as B,wb as D,z as p,za as m}from"./chunk-KD4FIKX5.js";import"./chunk-HB7CQCBC.js";import"./chunk-VHBHA3HG.js";import"./chunk-ZPI3MVP3.js";import"./chunk-X23JKFBK.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as d}from"./chunk-D7YYRZS5.js";var X=(()=>{let r=class r{constructor(t,e,i,l,V){this.fb=t,this.userService=e,this.router=i,this.alertController=l,this.loadingController=V,G({mail:T,key:O})}ngOnInit(){this.loginForm=this.fb.group({email:["",[m.required,m.email]],password:["",[m.required]]})}onLogin(){return d(this,null,function*(){if(!this.loginForm.valid)return;let t=yield this.loadingController.create({message:"Entrando..."});yield t.present();try{let{email:e,password:i}=this.loginForm.value,l=yield this.userService.login({email:e,password:i});yield t.dismiss(),l?this.router.navigateByUrl("/home"):yield this.presentAlert("Falha no Login","E-mail ou senha inv\xE1lidos. Por favor, tente novamente.")}catch(e){yield t.dismiss(),yield this.presentAlert("Erro","Ocorreu um erro inesperado. Verifique sua conex\xE3o."),console.error(e)}})}presentAlert(t,e){return d(this,null,function*(){yield(yield this.alertController.create({header:t,message:e,buttons:["OK"]})).present()})}onClickBtnCadastro(){this.router.navigate(["/cadastro"])}};r.\u0275fac=function(e){return new(e||r)(a(w),a(M),a(v),a(q),a(A))},r.\u0275cmp=h({type:r,selectors:[["app-login"]],decls:20,vars:2,consts:[["color","primary"],["color","light",1,"ion-padding"],[1,"center-container"],["id","loginForm",3,"ngSubmit","formGroup"],["name","mail","slot","start"],["label","Email","placeholder","Digite seu email","formControlName","email","type","email","id","email"],["name","key","slot","start"],["label","Senha","placeholder","Digite sua senha","type","password","formControlName","password","id","password"],["type","submit","expand","block",1,"ion-margin-top",3,"disabled"],["expand","block",1,"ion-margin-top",3,"click"],["fill","clear","expand","block","size","small"]],template:function(e,i){e&1&&(o(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),s(3,"LOGIN"),n()()(),o(4,"ion-content",1)(5,"div",2)(6,"form",3),f("ngSubmit",function(){return i.onLogin()}),o(7,"ion-list")(8,"ion-item"),g(9,"ion-icon",4)(10,"ion-input",5),n(),o(11,"ion-item"),g(12,"ion-icon",6)(13,"ion-input",7),n()(),o(14,"ion-button",8),s(15," Entrar "),n(),o(16,"ion-button",9),f("click",function(){return i.onClickBtnCadastro()}),s(17,"Cadastro "),n(),o(18,"ion-button",10),s(19," Esqueceu a senha? "),n()()()()),e&2&&(p(6),u("formGroup",i.loginForm),p(8),u("disabled",!i.loginForm.valid))},dependencies:[F,D,L,N,j,x,k,_,B,E,I,C,b,y,S],styles:[".center-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}"]});let c=r;return c})();export{X as LoginComponent};
