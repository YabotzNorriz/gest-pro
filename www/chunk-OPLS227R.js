import{a as B,b as L}from"./chunk-ROYJVEOW.js";import{a as R,b as T}from"./chunk-7Q35OXXA.js";import"./chunk-376IKJ6V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-ZY6MMR2N.js";import"./chunk-D7TAPKFE.js";import"./chunk-E3YIA7WN.js";import"./chunk-AIS5GWYL.js";import"./chunk-LALQ4PRD.js";import"./chunk-UW3ZE4H6.js";import"./chunk-BYMGTA2M.js";import"./chunk-EXPIUGSN.js";import"./chunk-RRKDUDD7.js";import"./chunk-XWDJZ25K.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M6NONDRE.js";import"./chunk-CKP3SGE2.js";import"./chunk-SGZNH6GL.js";import"./chunk-PO6P2S23.js";import{$ as o,Aa as b,B as s,Ba as j,Ca as I,D as E,Da as w,Ea as P,Ha as y,Ia as N,K as d,L as t,M as e,N as l,S as v,_a as A,gb as _,kb as F,lb as O,mb as M,qb as D,ta as S,wb as q,yb as k,z as p,za as a,zb as G}from"./chunk-KD4FIKX5.js";import"./chunk-HB7CQCBC.js";import"./chunk-VHBHA3HG.js";import"./chunk-ZPI3MVP3.js";import"./chunk-X23JKFBK.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{a as C,b as x,f}from"./chunk-D7YYRZS5.js";var X=(()=>{let m=class m{constructor(n,i,r,c,g){this.fb=n,this.projectService=i,this.router=r,this.alertController=c,this.loadingController=g}ngOnInit(){this.projectForm=this.fb.group({numProjeto:["",[a.required]],dataInicio:["",[a.required]],nomeProjeto:["",[a.required]],areas:["",[a.required]],responsavel:["",[a.required]],escopo:["",[a.required]],status:["iniciar",[a.required]],tags:[""]})}onSubmit(){return f(this,null,function*(){if(!this.projectForm.valid){this.presentAlert("Erro","Por favor, preencha todos os campos obrigat\xF3rios.");return}let n=yield this.loadingController.create({message:"Salvando..."});yield n.present();try{let i=this.projectForm.value,r=i.tags.split(",").map(h=>h.trim()).filter(h=>h.length>0),c=x(C({},i),{tags:r}),g=yield this.projectService.addProject(c);yield n.dismiss(),g?(yield this.presentAlert("Sucesso","Projeto salvo com sucesso."),this.projectForm.reset(),this.projectForm.patchValue({status:"iniciar",tags:""}),this.router.navigateByUrl("/home")):yield this.presentAlert("Falha","N\xE3o foi poss\xEDvel salvar o projeto.")}catch(i){yield n.dismiss(),yield this.presentAlert("Erro","Ocorreu um erro inesperado."),console.error(i)}})}presentAlert(n,i){return f(this,null,function*(){yield(yield this.alertController.create({header:n,message:i,buttons:["OK"]})).present()})}onClickBtnCancelar(){console.log("btn cancelar apertado"),this.router.navigate(["/home"])}};m.\u0275fac=function(i){return new(i||m)(s(y),s(L),s(S),s(R),s(T))},m.\u0275cmp=E({type:m,selectors:[["app-projeto-add"]],decls:57,vars:4,consts:[[3,"fullscreen"],[3,"ngSubmit","formGroup"],[1,"ion-padding"],[1,"form-title"],["lines","full"],["formControlName","numProjeto","placeholder","exemplo",1,"ion-text-right"],["formControlName","dataInicio","type","date","placeholder","exemplo",1,"ion-text-right"],["formControlName","nomeProjeto","placeholder","exemplo",1,"ion-text-right"],["formControlName","areas","placeholder","exemplo",1,"ion-text-right"],["formControlName","responsavel","placeholder","exemplo",1,"ion-text-right"],["formControlName","escopo","placeholder","exemplo",1,"ion-text-right",3,"autoGrow"],["formControlName","status","placeholder","Selecione",1,"ion-text-right"],["value","Iniciar"],["value","Em Andamento"],["value","Conclu\xEDdo"],["value","Em espera"],["value","Cancelado"],["formControlName","tags","placeholder","ex: urgente, dnp, comid",1,"ion-text-right"],["lines","none"],["slot","end",1,"ion-text-wrap",2,"font-size","0.7rem","color","var(--ion-color-medium)","text-align","right","width","100%"],[1,"button-container"],["type","submit","color","primary",1,"form-button",3,"disabled"],["color","danger",1,"form-button",3,"click"]],template:function(i,r){i&1&&(l(0,"app-header"),t(1,"ion-content",0)(2,"form",1),v("ngSubmit",function(){return r.onSubmit()}),t(3,"div",2)(4,"h2",3),o(5,"Formul\xE1rio"),e(),t(6,"ion-list",4)(7,"ion-item")(8,"ion-label"),o(9,"Num projeto"),e(),l(10,"ion-input",5),e(),t(11,"ion-item")(12,"ion-label"),o(13,"Data in\xEDcio"),e(),l(14,"ion-input",6),e(),t(15,"ion-item")(16,"ion-label"),o(17,"Nome Projeto"),e(),l(18,"ion-input",7),e(),t(19,"ion-item")(20,"ion-label"),o(21,"\xC1reas"),e(),l(22,"ion-input",8),e(),t(23,"ion-item")(24,"ion-label"),o(25,"Respons\xE1vel"),e(),l(26,"ion-input",9),e(),t(27,"ion-item")(28,"ion-label"),o(29,"Escopo"),e(),l(30,"ion-textarea",10),e(),t(31,"ion-item")(32,"ion-label"),o(33,"Status"),e(),t(34,"ion-select",11)(35,"ion-select-option",12),o(36,"A Iniciar"),e(),t(37,"ion-select-option",13),o(38,"Em Andamento"),e(),t(39,"ion-select-option",14),o(40,"Conclu\xEDdo"),e(),t(41,"ion-select-option",15),o(42,"Em espera"),e(),t(43,"ion-select-option",16),o(44,"Cancelado"),e()()(),t(45,"ion-item")(46,"ion-label"),o(47,"Tags"),e(),l(48,"ion-input",17),e(),t(49,"ion-item",18)(50,"ion-label",19),o(51," Separe as tags por v\xEDrgula (,) "),e()()(),t(52,"div",20)(53,"ion-button",21),o(54," SALVAR "),e(),t(55,"ion-button",22),v("click",function(){return r.onClickBtnCancelar()}),o(56," CANCELAR "),e()()()()()),i&2&&(p(),d("fullscreen",!0),p(),d("formGroup",r.projectForm),p(28),d("autoGrow",!0),p(23),d("disabled",!r.projectForm.valid))},dependencies:[A,G,q,O,B,_,F,D,k,M,N,I,b,j,w,P],styles:[".form-title[_ngcontent-%COMP%]{text-align:center;font-weight:700;color:var(--ion-color-dark)}ion-list[lines=full][_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--inner-padding-end: 0}ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-medium-shade)}.button-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:2.5rem}.form-button[_ngcontent-%COMP%]{width:220px;height:44px}"]});let u=m;return u})();export{X as ProjetoAddComponent};
